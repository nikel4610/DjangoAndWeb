<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      form {
        width: 320px;
      }

      section {
        margin: 5px;
      }

      .m-name {
        display: inline-block;
        width: 125px;
      }

      #btn {
        margin-top: 15px;
        width: 320px;
      }

      button {
        margin-left: 10px;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script>
      const regExp = {
        koreanName: /^[가-힣]{2,4}$/g,
        englishName: /^[a-zA-Z]{2,10}$/g,
        phoneNumber: /^\d{3}-\d{3,4}-\d{4}$/g,
        korandeng: /^[가-힣a-zA-Z]$/g,
        password: /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,}$/g,
        numbersandSpecial: /^[0-9!@#$%^*+=-]$/g,
        id: /^[a-zA-Z0-9]{5,15}$/g,
        email: /^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[a-zA-Z0-9]+$/g,
      };

      let check = (value, regExp) => {
        if (!value || !regExp.test(value) || value.match(/\s/g)) {
          return false;
        }
      };

      $(function () {
        $("#userId").change(function () {
          let userId = $("#userId").val();
          if (check(userId, regExp.id) == false) {
            alert("아이디는 5글자 이상 영어와 숫자만 가능합니다.");
            $("#userId").val("");
          } else {
            alert("아이디가 확인되었습니다.");
          }
        });
      });

      $(function () {
        $("#userPw").change(function () {
          let userPw = $("#userPw").val();
          if (check(userPw, regExp.password) == false) {
            alert(
              "암호는 8글자 이상 영어와 숫자, 특수문자가 포함되어야 합니다."
            );
            $("#userPw").val("");
          } else {
            alert("적당한 암호입니다.");
          }
        });
      });

      $(function () {
        $("#userPwCk").change(function () {
          let userPw = $("#userPw").val();
          let userPwCk = $("#userPwCk").val();
          if (userPw != userPwCk) {
            alert("암호가 일치하지 않습니다.");
            $("#userPwCk").val("");
          } else {
            alert("암호가 일치합니다.");
          }
        });
      });

      $(function () {
        $("#username").change(function () {
          let userName = $("#userName").val();
          if (check(userName, regExp.koreanName) == false) {
            alert("한국어로 입력해주세요.");
            $("#userName").val("");
          } else {
            alert("멋진 이름이시네요.");
          }
        });
      });

      $(function () {
        $("#userPhone").change(function () {
          let userPhone = $("#userPhone").val();
          if (check(userPhone, regExp.phoneNumber) == false) {
            alert("전화번호를 다시 입력해주세요.");
            $("#userPhone").val("");
          } else {
            alert("확인되었습니다.");
          }
        });
      });

      $(function () {
        $("#userEmail").change(function () {
          let userEmail = $("#userEmail").val();
          if (check(userEmail, regExp.email) == false) {
            alert("다시 입력해주세요");
            $("#userEmail").val("");
          } else {
            alert("확인되었습니다.");
          }
        });
      });
    </script>
  </head>

  <body>
    <form>
      <fieldset>
        <legend>회원 가입 양식</legend>
        <section>
          <label for="userId" class="m-name">아이디</label>
          <input
            type="text"
            id="userId"
            name="userId"
            maxlength="14"
            required
            placeholder="아이디를 입력해주세요."
          />
        </section>

        <section>
          <label for="userPw" class="m-name">비밀번호</label>
          <input
            type="password"
            id="userPw"
            name="userPw"
            required
            placeholder="암호를 입력해주세요."
          />
          <span id="pwCk"></span>
        </section>

        <section>
          <label for="userPwCk" class="m-name">비밀번호확인</label>
          <input
            type="password"
            id="userPwCk"
            name="userPwCk"
            required
            placeholder="암호를 한번 더 입력해주세요."
          />
        </section>

        <section>
          <label for="userName" class="m-name">이름</label>
          <input
            type="text"
            id="userName"
            name="userName"
            maxlength="5"
            required
            placeholder="이름을 입력해주세요."
          />
          <span id="nameCk"></span>
        </section>

        <section>
          <label class="m-name">성별</label>
          <label for="male">남</label>
          <input type="radio" name="gender" id="male" value="m" required />
          <label for="female">여</label>
          <input type="radio" name="gender" id="female" value="f" required />
        </section>

        <section>
          <label for="userPhone" class="m-name">전화번호</label>
          <input
            type="tel"
            id="userPhone"
            name="userPhone"
            required
            placeholder="전화번호를 입력해주세요."
          />
        </section>

        <section>
          <label for="userEmail" class="m-name">이메일</label>
          <input
            type="email"
            id="userEmail"
            name="userEmail"
            placeholder="aa@aa.aa 형식으로 입력해주세요."
          />
        </section>

        <section id="btn">
          <button type="reset">초기화</button>
          <button>회원가입</button>
        </section>
      </fieldset>
    </form>
  </body>
</html>
